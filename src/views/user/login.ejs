<%- include('../include/header')%>
    <script>
        function login(){
            var form = document.getElementById("form_login");
            axios({
                method: 'post',
                url: 'http://localhost:8000/visitor/write',
                data: {
                    name: form.name.value,
                    comment: form.comment.value
                }
            })
            .then((rep) => { return rep.data; })
            .then((data) => {
                // data = { id: 9 }

                let html = 
                "<tr id='tr_" + data.id + "'><td>" + data.id + "</td><td>" + form.name.value + "</td><td>" + form.comment.value + "</td>" + 
                    "<td><button type='button' onclick='editComment(" + data.id + ");'>수정</button></td><td><button type='button' onclick='deleteComment(" + data.id + ");'>삭제</button></tr>";

                $( "table" ).append(html);
            });
        }
    </script>
</head>

<body>
    <form id="form_login">
        <input type="text" name="nickname" placeholder="닉네임">
        <input type="password" name="pw" placeholder="비밀번호">
        <button type="button" onclick="login();">로그인</button>
    </form>
</body>
</html>